name: Linting
on: [push]

jobs:

  prose:
    runs-on: ubuntu-latest
    steps:

    - name: '[TOOLCHAIN] Set up Ruby 2.6'
          uses: actions/setup-ruby@v1
          with:
            ruby-version: 2.6.x

    - name: '[TOOLCHAIN] Install Asciidoctor and Asciidoctor PDF'
      run: |
        gem install asciidoctor
        gem install asciidoctor-pdf --pre
        gem install rouge
        gem install pygments.rb
        gem install coderay
        asciidoctor --version
        asciidoctor-pdf --version

    - name: Checkout
      uses: actions/checkout@master

    - name: Vale
      uses: errata-ai/vale-action@v1.3.0
      with:
        # Optional
        styles: |
          https://github.com/errata-ai/Microsoft/releases/latest/download/Microsoft.zip
          https://github.com/errata-ai/write-good/releases/latest/download/write-good.zip
# https://github.com/errata-ai/Google/releases/download/Google.zip

        # Optional
# config: https://gist.github.com/jcayouette/d84e57977af156372865b7454e779457

        # Optional
        files: all

      env:
        # Required
        GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}